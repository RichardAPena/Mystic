// Psychic Smite (Interrupt)
new entry "Interrupt_Mystic_PsychicSmite"
type "InterruptData"
data "DisplayName" "hd45504cdgb974g4498g8192ga19c8bd7697d"
data "Description" "ha1ee4050g7ccdg4f77g9c8cg17acfd982854"
data "DescriptionParams" "DealDamage(1d6,Psychic)"
data "Icon" "Action_Mystic_PsychicSmite"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Item() and IsMeleeWeaponAttack() and not IsPsychicSmite() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and not IsKillingBlow() and not AnyEntityIsItem()"
data "Properties" "DealDamage(1d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:1"
data "Stack" "Mystic_PsychicSmite"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Mystic_PsychicSmite_2"
type "InterruptData"
using "Interrupt_Mystic_PsychicSmite"
data "DescriptionParams" "DealDamage(2d6,Psychic)"
data "Properties" "DealDamage(2d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:2"

new entry "Interrupt_Mystic_PsychicSmite_3"
type "InterruptData"
using "Interrupt_Mystic_PsychicSmite"
data "DescriptionParams" "DealDamage(3d6,Psychic)"
data "Properties" "DealDamage(3d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:3;PsiLimitResource:1:3"

new entry "Interrupt_Mystic_PsychicSmite_4"
type "InterruptData"
using "Interrupt_Mystic_PsychicSmite"
data "DescriptionParams" "DealDamage(4d6,Psychic)"
data "Properties" "DealDamage(4d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:4;PsiLimitResource:1:4"

new entry "Interrupt_Mystic_PsychicSmite_5"
type "InterruptData"
using "Interrupt_Mystic_PsychicSmite"
data "DescriptionParams" "DealDamage(5d6,Psychic)"
data "Properties" "DealDamage(5d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:5;PsiLimitResource:1:5"

new entry "Interrupt_Mystic_PsychicSmite_6"
type "InterruptData"
using "Interrupt_Mystic_PsychicSmite"
data "DescriptionParams" "DealDamage(6d6,Psychic)"
data "Properties" "DealDamage(6d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:6;PsiLimitResource:1:6"

new entry "Interrupt_Mystic_PsychicSmite_7"
type "InterruptData"
using "Interrupt_Mystic_PsychicSmite"
data "DescriptionParams" "DealDamage(7d6,Psychic)"
data "Properties" "DealDamage(7d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:7;PsiLimitResource:1:7"

// Future Sight
new entry "Interrupt_Mystic_FutureSight"
type "InterruptData"
data "DisplayName" "h0c46b1c9g1b6dg4ae7g8427gcf631089f9fd"
data "Description" "h2ff12833g08d7g4bd3gae68g859c421a253a"
data "Icon" "Action_Mystic_FutureSight"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Dead(context.Observer) and HasInterruptedAttack() and Ally(context.Observer,context.Target) and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source)"
data "Properties" "SetReroll(20,true)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Intervene
new entry "Interrupt_Mystic_Intervene"
type "InterruptData"
data "DisplayName" "hce280bdcg1960g4884ga7efg99f2f62debf1"
data "Description" "hf53d457fgf521g4aa4g9c03g2b04829adfae"
data "Icon" "Action_Mystic_Intervene"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Target,context.Observer) and Ally(context.Target,context.Observer) and not AnyEntityIsItem() and not Enemy(context.Target,context.Observer)"
data "Properties" "ApplyStatus(OBSERVER_OBSERVER,MYSTIC_INTERVENE_OWNER,100,1);ApplyStatus(OBSERVER_TARGET,MYSTIC_INTERVENE,100,1)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Quick Draw
new entry "Interrupt_Mystic_QuickDraw"
type "InterruptData"
data "DisplayName" "h5b706566g4036g48e2gaef6g5eef4cb42473"
data "Description" "h700c2ae9gef14g44c1gaa81gc35a6a81d24b"
data "Icon" "Action_Mystic_QuickDraw"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and not AnyEntityIsItem() and not Enemy(context.Target,context.Observer)"
data "Properties" "UseSpell(OBSERVER_SOURCE,Target_Mystic_QuickDraw,true,true,true)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Turn the Tables
new entry "Interrupt_Mystic_TurnTheTables"
type "InterruptData"
data "DisplayName" "h70b41b25gf872g479cg85e9g6c171d0dd074"
data "Description" "hab05913bg7cbfg4424ga371g28ea555d0363"
data "Icon" "Action_Mystic_TurnTheTables"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Dead(context.Observer) and (HasInterruptedAttack() or HasInterruptedSavingThrow()) and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source)"
data "Properties" "SetReroll(20,true);ApplyStatus(OBSERVER_SOURCE,MYSTIC_TURN_THE_TABLES,100,2)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Mark of Dishonour
new entry "Interrupt_Mystic_MarkOfDishonor"
type "InterruptData"
data "DisplayName" "h60cd31afg064eg43b3g8af4g71ba417ebaf4"
data "Description" "ha0e88b0agb166g48e5gb285gf084a59eb83f"
data "DescriptionParams" "RegainHitPoints(0);DealDamage(3d6,Psychic)"
data "Icon" "Action_Mystic_MarkOfDishonor"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "HasHPLessThan(1) and Ally(context.Target,context.Observer) and Character()"
data "Properties" "DealDamage(OBSERVER_OBSERVER,3d6,Psychic,Magical);ApplyStatus(OBSERVER_OBSERVER,MYSTIC_MARK_OF_DISHONOR_SPEED,100,1)"
data "InterruptDefaultValue" "Enabled"

// Ricochet
new entry "Interrupt_Mystic_Ricochet"
type "InterruptData"
data "DisplayName" "h2b02393cg34f0g4c30gaf45gd0b2a3d4008c"
data "Description" "h449a8746g1418g4e1cgb65bga420b6206d74"
data "DescriptionParams" "Distance(18)"
data "Icon" "Action_Mystic_Ricochet"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Source,context.Observer) and (IsCriticalMiss() or IsMiss()) and IsRangedUnarmedAttack()"
data "Properties" "ApplyStatus(MYSTIC_RICOCHET_IMMUNE,100,1);ApplyStatus(MYSTIC_RICOCHET_AURA,100,1);ApplyStatus(SELF,MYSTIC_RICOCHET_IMMUNE,100,1);ApplyStatus(SELF,MYSTIC_RICOCHET_ACTIVE,100,1)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded') and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"