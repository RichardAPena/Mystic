// Psionic Disciplines

// Psionic Skirmishing
new entry "Discipline_PsionicSkirmishing"
type "PassiveData"
data "DisplayName" "h93d8d4dag6047g4707g9faagb7770e4b5e77"
data "Description" "hf2b98943g5419g4f2cgacdcg50d9ec8b06e3"
data "Icon" "Action_Mystic_PsionicAlacrity"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_PsionicSkirmishing);UnlockSpell(Target_Mystic_SliceAndDice);UnlockSpell(Shout_Mystic_EnergyInfusion);UnlockSpell(Shout_Mystic_PsionicAlacrity);UnlockSpell(Shout_Mystic_BladeFlurry)"

// Mastery of Gravity
new entry "Discipline_MasteryOfGravity"
type "PassiveData"
data "DisplayName" "h98f328d9g328fg4e27gb5a9ga7f6e9c5efda"
data "Description" "h1745f017g5fbbg4712g90bdgd5337df8c0c2"
data "Icon" "Action_Mystic_Singularity"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_MasteryOfGravity);UnlockSpell(Target_Mystic_GravitationalSlam);UnlockSpell(Target_Mystic_DensityShift);UnlockSpell(Target_Mystic_CrushingForce);UnlockSpell(Target_Mystic_Singularity);UnlockSpell(Target_Mystic_SpatialCompression)"

// Mastery of Time
new entry "Discipline_MasteryOfTime"
type "PassiveData"
data "DisplayName" "he4e54057ge428g40d4g8100g625c8bb831a8"
data "Description" "hdc8181a1g917eg4f04gb526gecdbea14b8be"
data "Icon" "Action_Mystic_BorrowedTime"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_MasteryOfTime);UnlockSpell(Target_Mystic_BorrowedTime);UnlockSpell(Target_Mystic_TwistOfFate);UnlockSpell(Shout_Mystic_FutureSight);UnlockSpell(Target_Mystic_TimeStop);UnlockSpell(Target_Mystic_Chronoward);UnlockSpell(Target_Mystic_AccelerationZone)"

// Nomadic Hunting
new entry "Discipline_NomadicHunting"
type "PassiveData"
data "DisplayName" "h36904f5dge6e2g484ag83b4gfba16332ed25"
data "Description" "h0e7507b7g68c4g41a7gaf34g1a54a949287f"
data "Icon" "Action_Mystic_JavelinToss"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_NomadicHunting);UnlockSpell(Projectile_Mystic_JavelinToss);UnlockSpell(Target_Mystic_NomadsMark);UnlockSpell(Target_Mystic_NomadicSnare);UnlockSpell(Shout_Mystic_HuntingParty);"

// Mantle of Serenity
new entry "Discipline_MantleOfSerenity"
type "PassiveData"
data "DisplayName" "h660cf269gc118g47c7g9ec3g2edb7b3490ff"
data "Description" "h0e323662g0dbag4732g9fd7g8e91d11d9dbe"
data "Icon" "Action_Mystic_MassRepose"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_MantleOfSerenity);UnlockSpell(Target_Mystic_Lull);UnlockSpell(Target_Mystic_Abate);UnlockSpell(Shout_Mystic_AuraOfTranquility);UnlockSpell(Target_Mystic_Hibernate);UnlockSpell(Shout_Mystic_LucidDreaming);UnlockSpell(Target_Mystic_MassRepose);"

// Psychic Distortion
new entry "Discipline_PsychicDistortion"
type "PassiveData"
data "DisplayName" "hff8b0098g25ffg47d8g892dg4d2bc4cb2106"
data "Description" "h89e7f56dg83d7g472bgb6aeg9e89cb8d2e19"
data "Icon" "Action_Mystic_PsychicDouble"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_PsychicDistortion);UnlockSpell(Shout_Mystic_ObscuringVeil);UnlockSpell(Target_Mystic_PsychicDouble);UnlockSpell(Shout_Mystic_Mirage);UnlockSpell(Shout_Mystic_IllusoryHorde);UnlockSpell(Target_Mystic_EtherealShroud);"
data "StatsFunctorContext" "OnCast"
data "Conditions" "SpellId('Target_Mystic_PsychicDouble')"
data "StatsFunctors" "ApplyStatus(SELF,MYSTIC_PSYCHIC_DOUBLE_ACTIONS,100,-1)"

// Crimson Harvest
new entry "Discipline_CrimsonHarvest"
type "PassiveData"
data "DisplayName" "h281052beg0da2g4aa7gb8e6g886f1a2202ee"
data "Description" "hd60be5a7g7c63g419cgb7f9g8c22582607c0"
data "Icon" "Action_Mystic_Transfusion"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_CrimsonHarvest);UnlockSpell(Target_Mystic_Transfusion);UnlockSpell(Shout_Mystic_CrimsonEruption);UnlockSpell(Shout_Mystic_BloodFrenzy);UnlockSpell(Shout_Mystic_SanguineInfusion);"

// Titanic Presence
new entry "Discipline_TitanicPresence"
type "PassiveData"
data "DisplayName" "h0af8819eg1f9eg4729g9fb6g0927f8359fe1"
data "Description" "h57c3d34egba11g4b36ga3d4gc19b157860ec"
data "Icon" "Action_Mystic_TitansRage"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_TitanicPresence);UnlockSpell(Target_Mystic_Provoke);UnlockSpell(Shout_Mystic_TitansRage);UnlockSpell(Shout_Mystic_Intervene);UnlockSpell(Shout_Mystic_MenacingPresence);UnlockSpell(Projectile_Mystic_TitanicLeap);"

// Soul Reaper
new entry "Discipline_SoulReaper"
type "PassiveData"
data "DisplayName" "h527d7f26g8dc6g4852g8391g5e545e75c2f0"
data "Description" "hc6241d62g01dcg47e5g9c75gf5a067fcaa0a"
data "Icon" "Action_Mystic_SoulHarvest"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_SoulReaper);UnlockSpell(Target_Mystic_SoulHarvest);UnlockSpell(Target_Mystic_SoulGrip);UnlockSpell(Target_Mystic_Souleater);UnlockSpell(Target_Mystic_Doom);"
data "StatsFunctorContext" "OnDamage;OnDamagePrevented;OnAttack;OnCastResolved"
data "Conditions" "HasHPLessThan(1) and Character() and SpellId('Target_Mystic_Souleater')"
data "StatsFunctors" "RestoreResource(SELF,PsiPointsResource,5,0);RestoreResource(SELF,ActionPoint,1,0)"

// Crown of Apathy
new entry "Discipline_CrownOfApathy"
type "PassiveData"
data "DisplayName" "h4f83831eg1c7bg44e0g8cfdg8a01097ef699"
data "Description" "h9a6cebf2g5932g437ag9ff6g4298ec8093fd"
data "Icon" "Action_Mystic_AuraOfIndifference"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_CrownOfApathy);UnlockSpell(Target_Mystic_WaveOfApathy);UnlockSpell(Target_Mystic_Lassitude);UnlockSpell(Target_Mystic_InciteApathy);UnlockSpell(Shout_Mystic_AuraOfIndifference);"

// Nomadic Grace
new entry "Discipline_NomadicGrace"
type "PassiveData"
data "DisplayName" "h34368b6cgcb6cg4965g8411g07a0b5bb2dae"
data "Description" "h83ae95edg6a73g4c34g81e5gee9615b1ba91"
data "Icon" "Action_Mystic_QuickDraw"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_NomadicGrace);UnlockSpell(Projectile_Mystic_GaleSlash);UnlockSpell(Shout_Mystic_QuickDraw);UnlockSpell(Target_Mystic_BlessingOfTheWinds);UnlockSpell(Target_Mystic_SteelTempest);"

// Mastery of Stars
new entry "Discipline_MasteryOfStars"
type "PassiveData"
data "DisplayName" "h82c532f5g19f8g4adag880dgf693ebe925a7"
data "Description" "hadaff898ge06bg41a0ga205g9e95307b3b96"
data "Icon" "Action_Mystic_Starstorm"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_MasteryOfStars);UnlockSpell(Projectile_Mystic_AstralMote);UnlockSpell(Shout_Mystic_Moonlight);UnlockSpell(Target_Mystic_Sunburst);UnlockSpell(Wall_Mystic_StarRail);UnlockSpell(Target_Mystic_Starstorm);"

// Mastery of Nature
new entry "Discipline_MasteryOfNature"
type "PassiveData"
data "DisplayName" "h4aaceeaag3e26g423dg8971gb890b1e46242"
data "Description" "h9eee953ege87eg4b49gaefag408aa04dcca4"
data "Icon" "Action_Mystic_Regrowth"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_MasteryOfNature);UnlockSpell(Projectile_Mystic_ToxicSpines);UnlockSpell(Projectile_Mystic_ThornyBriars);UnlockSpell(Target_Mystic_Regrowth);UnlockSpell(Target_Mystic_Brambleskin);UnlockSpell(Shout_Mystic_MassEntanglement);"

// Mantle of Pride
new entry "Discipline_MantleOfPride"
type "PassiveData"
data "DisplayName" "h64bca6e5ga582g4f4cg957cg0dc2ab813ea1"
data "Description" "had933094g6dbbg4d22gb45dge3dca2d6f516"
data "Icon" "Action_Mystic_PridefulMantle"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_MantleOfPride);UnlockSpell(Target_Mystic_Exaltation);UnlockSpell(Target_Mystic_Hubris);UnlockSpell(Shout_Mystic_AuraOfContempt);UnlockSpell(Shout_Mystic_PridefulMantle);"

// Transcendent Form
new entry "Discipline_TranscendentForm"
type "PassiveData"
data "DisplayName" "h2d4a68dcga907g459fg9b70g8cf2a1d105de"
data "Description" "hf70e2b82g5bcbg4ba9g8e30ga2085dcdd67e"
data "Icon" "Action_Mystic_Transcendence"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_TranscendentForm);UnlockSpell(Shout_Mystic_Transcendence);UnlockSpell(Target_Mystic_PsychicBrand);UnlockSpell(Target_Mystic_SpectralArms);"

// Mantle of Insanity
new entry "Discipline_MantleOfInsanity"
type "PassiveData"
data "DisplayName" "h173730c5gfbd7g4dd7g9b08gd1b2fa2e786f"
data "Description" "h91454975g98d4g4f95gb9a9gd9475a5af3ec"
data "Icon" "Action_Mystic_Hysteria"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_MantleOfInsanity);UnlockSpell(Target_Mystic_Delirium);UnlockSpell(Target_Mystic_Hysteria);UnlockSpell(Target_Mystic_Paranoia);UnlockSpell(Target_Mystic_UnendingTorment);"

// Nomadic Guile
new entry "Discipline_NomadicGuile"
type "PassiveData"
data "DisplayName" "h354ec41fg4559g435ag90fcgb93670fa151b"
data "Description" "h76ab8912g40c9g42a4gb2e9ga28ebb53f8d9"
data "Icon" "Action_Mystic_TurnTheTables"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_NomadicGuile);UnlockSpell(Shout_Mystic_ANewFace);UnlockSpell(Shout_Mystic_NimbleFingers);UnlockSpell(Shout_Mystic_TurnTheTables);UnlockSpell(Target_Mystic_BestowLuck);"

// Crown of Envy
new entry "Discipline_CrownOfEnvy"
type "PassiveData"
data "DisplayName" "hf3618c94g2366g4760gaaabgadeb7078871c"
data "Description" "he86e758agf86ag4c29g9729g3a03dd6c22e5"
data "Icon" "Action_Mystic_SeethingIre"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_CrownOfEnvy);UnlockSpell(Target_Mystic_SeethingIre);UnlockSpell(Target_Mystic_Vendetta);UnlockSpell(Target_Mystic_RedoubledEffort);UnlockSpell(Shout_Mystic_AuraOfSpite);"

// Nomadic Kinship
new entry "Discipline_NomadicKinship"
type "PassiveData"
data "DisplayName" "hfdfde903g01bcg49e5g8e59gf09c7124a33b"
data "Description" "haef6fd27gdcbbg4546gb5a5g0d274aacda4b"
data "Icon" "Action_Mystic_BestialCompanion"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_NomadicKinship);UnlockSpell(Shout_Mystic_BestialSpeech);UnlockSpell(Target_Mystic_FriendOfTheForest);UnlockSpell(Target_Mystic_BestialCompanion);UnlockSpell(Target_Mystic_BestialMight);"

// Infinite Abyss
new entry "Discipline_InfiniteAbyss"
type "PassiveData"
data "DisplayName" "h2b15ee7dgb393g402egaad3g5e9cd64f2455"
data "Description" "h6dd9e89agaca7g449cg8ad2gda246737871b"
data "Icon" "Action_Mystic_EldritchEvolution"
data "Boosts" "UnlockSpell(Shout_Mystic_PsychicFocus_InfiniteAbyss);UnlockSpell(Target_Mystic_GlimpseOfTheVoid);UnlockSpell(Target_Mystic_SymbioticLink);UnlockSpell(Shout_Mystic_PsionicDisturbance);UnlockSpell(Shout_Mystic_EldritchEvolution);"

// Chronoward
new entry "Passive_Mystic_Chronoward"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamaged;OnDamagedPrevented"
data "StatsFunctors" "ApplyStatus(MYSTIC_CHRONOWARD_STORED_DAMAGE,100,TotalDamageDone)"

// Nomad's Mark
new entry "Passive_Mystic_NomadsMark"
type "PassiveData"
data "DisplayName" "h6201f219g6fd2g4326ga66fga8370aa4ed6e"
data "Description" "h249381d9g97b0g4923ga71dg17c01aecf286"
data "DescriptionParams" "DealDamage(1d6,Psychic)"
data "Icon" "PassiveFeature_HuntersMark"
data "PriorityOrder" "2"
data "Properties" "Highlighted"
// data "Boosts" "IF(HasStatus('MYSTIC_NOMADS_MARK',context.Target,context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):DealDamage(1d6,Psychic,Magical)"
data "Boosts" "IF(HasStatus('MYSTIC_NOMADS_MARK',context.Target,context.Source)):DamageBonus(1d6,Psychic)"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "HasStatus('MYSTIC_NOMADS_MARK',context.Target,context.Source) and TotalDamageDoneGreaterThan(0)"
data "StatsFunctors" "ApplyStatus(PASSIVE_HUNTERS_MARK,100,0)"

// Psychic Double
new entry "Passive_Mystic_AttackSwap_Mystic"
type "PassiveData"
data "DisplayName" "h136df96fg89c9g42begb8feg5a75400fae11"
data "Description" ""
data "Icon" ""
data "Properties" "IsHidden"
data "Boosts" "UnlockSpellVariant(SpellId('Shout_Mystic_PsychicDouble_AttackSwap'),ModifyIconGlow())"

// Mirage
new entry "Passive_Mystic_Mirage"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnMovedDistance"
// data "StatsFunctors" "IF(not HasStatus('MYSTIC_MIRAGE_MOVE_COUNT',context.Source)):ApplyStatus(SELF,MYSTIC_MIRAGE_MOVE_COUNT,100,-1);IF(HasStatus('MYSTIC_MIRAGE_MOVE_COUNT',context.Source)):RemoveStatus(SELF,MYSTIC_MIRAGE_MOVE_COUNT)"
data "Conditions" "not HasStatus('MYSTIC_MIRAGE_CLONE',context.Source)"
data "StatsFunctors" "ApplyStatus(SELF,MYSTIC_MIRAGE_MOVE_COUNT,100,1);IF(StatusDurationEqualOrMoreThan(SELF, 'MYSTIC_MIRAGE_MOVE_COUNT', 2)):ApplyStatus(SELF,MYSTIC_MIRAGE_CLONE,100,-1)"

// Titan's Rage
new entry "Passive_Mystic_TitansRage_Boosts"
type "PassiveData"
data "DisplayName" "had59b23dgbd8dg4919gbecfgfd3a35a3baa3"
data "Properties" "IsHidden"
data "BoostContext" "OnEquip;OnCreate"
data "Boosts" "Advantage(Ability, Strength);Advantage(SavingThrow, Strength);Resistance(Slashing, Resistant);Resistance(Piercing, Resistant);Resistance(Bludgeoning, Resistant);IF(IsAttackType(AttackType.MeleeWeaponAttack)):CharacterWeaponDamage(2);EntityThrowDamage(2);IF(IsAttackType(AttackType.MeleeOffHandWeaponAttack)):CharacterWeaponDamage(2);CharacterUnarmedDamage(2);FallDamageMultiplier(0.5);Disadvantage(Concentration);ActionResource(Movement,-3,0);RollBonus(SkillCheck,max(1,IntelligenceModifier-StrengthModifier),Athletics);RollBonus(RawAbility,max(1,IntelligenceModifier-StrengthModifier),Athletics);RollBonus(SavingThrow,max(1,IntelligenceModifier-StrengthModifier),Strength)"

new entry "Passive_Mystic_TitansRage_Attack"
type "PassiveData"
data "DisplayName" "had59b23dgbd8dg4919gbecfgfd3a35a3baa3;1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttack;OnDamage"
data "Conditions" "(not Ally() and Character()) or Enemy()"
data "StatsFunctors" "ApplyStatus(SELF,MYSTIC_TITANS_RAGE_STOP_REMOVE,100,1)"

new entry "Passive_Mystic_TitansRage_Damaged"
type "PassiveData"
data "DisplayName" "had59b23dgbd8dg4919gbecfgfd3a35a3baa3"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamaged;OnDamagedPrevented"
data "Conditions" "TotalDamageDoneGreaterThan(0)"
data "StatsFunctors" "ApplyStatus(MYSTIC_TITANS_RAGE_STOP_REMOVE,100,1)"

// Soul Reaper Effect
new entry "Discipline_SoulReaper_Effect"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "HasHPLessThan(1) and Character()"
data "StatsFunctors" "RegainHitPoints(SELF,max(1,ClassLevel(Mystic)+IntelligenceModifier))"

// Lassitude
new entry "Passive_Mystic_Lassitude"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "StatsFunctors" "IF(not HasActionResource('BonusActionPoint',1,0,false)):UseActionResource(SELF,ActionPoint,1);IF(not HasActionResource('BonusActionPoint',1,0,false)):UseActionResource(SELF,Movement,100%,0,true);IF(not HasActionResource('ActionPoint',1,0,false)):UseActionResource(SELF,BonusActionPoint,1);IF(not HasActionResource('ActionPoint',1,0,false)):UseActionResource(SELF,Movement,100%,0,true);RemoveStatus(SELF,MIND_WHIP_MOVEMENT)"

new entry "Passive_Mystic_Lassitude_Movement"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnMovedDistance"
data "StatsFunctors" "UseActionResource(SELF,ActionPoint,1);UseActionResource(SELF,BonusActionPoint,1)"

// Thorny Briars
new entry "Passive_Mystic_ThornyBriars"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnMovedDistance"
data "StatsFunctors" "DealDamage(SELF,2d4,Slashing,Magical)"

// Regrowth
new entry "Passive_Mystic_Regrowth"
type "PassiveData"
data "DisplayName" "h85644687g4d39g4e83ga5e9gbbcf4a0c25fe"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasDamageDoneForType(DamageType.Fire) or HasDamageDoneForType(DamageType.Acid) and TotalDamageDoneGreaterThan(0)"
data "StatsFunctors" "ApplyStatus(MYSTIC_REGROWTH_BLOCK,100,1)"

// Brambleskin
new entry "Passive_Mystic_Brambleskin"
type "PassiveData"
data "DisplayName" "hdecfdffdg08fdg43b4gb32dgb0535ccd7ad2"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttacked"
data "Conditions" "not IsMiss() and IsMeleeAttack()"
data "StatsFunctors" "DealDamage(SWAP,6d4,Piercing,Magical)"

// Hubris
new entry "Passive_Mystic_Hubris_Movement"
type "PassiveData"
data "DisplayName" "h47e84414ga52dg47d7ga893gfd0277c29084"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnMovedDistance"
data "StatsFunctors" "DealDamage(SELF,2d6,Psychic,Magical)"

new entry "Passive_Mystic_Hubris_Action"
type "PassiveData"
data "DisplayName" "h47e84414ga52dg47d7ga893gfd0277c29084"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnCast"
data "StatsFunctors" "DealDamage(SELF,2d6,Psychic,Magical)"

// Spectral Arms
new entry "Passive_Mystic_SpectralArms"
type "PassiveData"
data "DisplayName" "h6f9b8007g7bdbg4a8ag88bbge0bd1b750048"
data "Description" "h03baec1eg6a75g4ae0g8ad6g9427418e96ce"
data "Icon" "Action_Mystic_SpectralArms"
data "EnabledContext" "OnCastResolved;OnLongRest;OnActionResourcesChanged"
data "EnabledConditions" "HasActionResource('BonusActionPoint', 1, 0, false, false, context.Source)"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;Temporary"
data "Boosts" "UnlockSpellVariant(SpectralArmsCheck(),ModifyUseCosts(Replace,BonusActionPoint,1,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"

// Aura of Spite
new entry "Passive_Mystic_AuraOfSpite"
type "PassiveData"
data "DisplayName" "h99e04fe5ga8e8g4cd6g85d6g8a46eecaa66a"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnDamage;OnDamagePrevented"
data "StatsFunctors" "RegainHitPoints(SELF,DamageDone/2)"

// Psionic Disturbance
new entry "Passive_Mystic_PsionicDisturbance"
type "PassiveData"
data "DisplayName" "hdc9474dcga71fg492fgbf38g1cd65b4bf78a"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "IsSpell()"
data "StatsFunctors" "DealDamage(4d6,Psychic)"

// Order of the Ascetic

// Psionic Fists
new entry "Passive_Mystic_PsionicFists"
type "PassiveData"
data "DisplayName" "hb0dca46fg08cag4d0agb287ge12f5bec8d3b"
data "Description" "h1278abafg4e4cg4c51ga659gcd85d789b8cd"
data "DescriptionParams" "DealDamage(LevelMapValue(PsionicFists), Bludgeoning)"
data "Icon" "Passive_Mystic_PsionicFists"
data "Properties" "Highlighted"
data "Boosts" ""

new entry "Passive_Mystic_PsionicFists_Bonus"
type "PassiveData"
data "DisplayName" "hb0dca46fg08cag4d0agb287ge12f5bec8d3b"
data "Description" "h1278abafg4e4cg4c51ga659gcd85d789b8cd"
data "Properties" "IsHidden"
data "BoostContext" "OnStatusApplied;OnEquip;OnCreate;OnStatusApply;OnStatusRemove;OnStatusRemoved"
data "Boosts" "IF(not HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source) and not HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike);IF(not HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source) and not HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Bonus);IF(HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Psychic);IF(HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Bonus_Psychic);IF(HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Force);IF(HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Bonus_Force);IF(IsUnarmedAttack() and IsIntelligenceHigherThanStrength()):RollBonus(Attack,IntelligenceModifier-StrengthModifier);IF(IsUnarmedAttack() and IsIntelligenceHigherThanStrength()):DamageBonus(IntelligenceModifier-StrengthModifier);MonkWeaponDamageDiceOverride(LevelMapValue(PsionicFists))"

// IF(not HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source) and not HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike);
// IF(not HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source) and not HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Bonus);
// IF(HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Psychic);
// IF(HasStatus('MYSTIC_PSYCHIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Bonus_Psychic);
// IF(HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Force);
// IF(HasStatus('MYSTIC_KINETIC_BLOWS',context.Source)):UnlockSpell(Target_Mystic_PsionicStrike_Bonus_Force);
// IF(IsUnarmedAttack()):RollBonus(Attack,IntelligenceModifier-StrengthModifier);
// IF(IsUnarmedAttack()):DamageBonus(IntelligenceModifier-StrengthModifier);
// MonkWeaponDamageDiceOverride(LevelMapValue(PsionicFists))


// Unarmored Defense
new entry "Passive_Mystic_UnarmoredDefense"
type "PassiveData"
data "DisplayName" "h73e008edg8e8fg4b77g96f0gdfc0e9c1c26e"
data "Description" "h96c9a10dgc43cg425cgac43gabf2d04f41e8"
data "DescriptionParams" ""
data "Icon" "PassiveFeature_UnarmoredDefense"
data "Properties" "Highlighted"
data "BoostContext" "OnEquip;OnCreate"
data "BoostConditions" "not WearingArmor(context.Source) and not HasShieldEquipped(context.Source)"
data "Boosts" "ACOverrideFormula(10,true,Dexterity,Intelligence)"

// Psychic Blows
new entry "Passive_Mystic_PsychicBlows"
type "PassiveData"
data "DisplayName" "hb4a86afega6dfg4105ga791g6215b02fd854"
data "Description" "h2510e827g017cg47f5gae92g557a63b2592e"
data "Icon" "GenericIcon_DamageType_Psychic"
data "Properties" "IsToggled;Highlighted;ToggledDefaultAddToHotbar"
data "ToggleGroup" "Mystic_PsionicFists"
data "ToggleOnFunctors" "ApplyStatus(MYSTIC_PSYCHIC_BLOWS,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(MYSTIC_PSYCHIC_BLOWS)"

// Kinetic Blows
new entry "Passive_Mystic_KineticBlows"
type "PassiveData"
data "DisplayName" "hbbe56c04gf374g4e0fg98dcg99a9b117a54a"
data "Description" "h04da920eg05f6g46e6ga4c6g1c820e2c1e22"
data "Icon" "GenericIcon_DamageType_Force"
data "Properties" "IsToggled;Highlighted;ToggledDefaultAddToHotbar"
data "ToggleGroup" "Mystic_PsionicFists"
data "ToggleOnFunctors" "ApplyStatus(MYSTIC_KINETIC_BLOWS,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(MYSTIC_KINETIC_BLOWS)"

// Psionic Resonance
new entry "Passive_Mystic_PsionicResonance"
type "PassiveData"
data "DisplayName" "h7ad75dd5g18c1g437fgba42ge2be57114058"
data "Description" "h1c4f40cdg5b99g4f11g8b14g2ef7ad19b68d"
data "DescriptionParams" "1"
data "Icon" "Passive_Mystic_PsionicResonance"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast"
data "Conditions" "PsionicDisciplineCheck()"
data "StatsFunctors" "IF(SpellPowerLevelEqualTo(1)):ApplyStatus(SELF,MYSTIC_PSIONIC_RESONANCE,100,1);IF(SpellPowerLevelEqualTo(2)):ApplyStatus(SELF,MYSTIC_PSIONIC_RESONANCE,100,2);IF(SpellPowerLevelEqualTo(3)):ApplyStatus(SELF,MYSTIC_PSIONIC_RESONANCE,100,3);IF(SpellPowerLevelEqualTo(4)):ApplyStatus(SELF,MYSTIC_PSIONIC_RESONANCE,100,4);IF(SpellPowerLevelEqualTo(5)):ApplyStatus(SELF,MYSTIC_PSIONIC_RESONANCE,100,5);IF(SpellPowerLevelEqualTo(6)):ApplyStatus(SELF,MYSTIC_PSIONIC_RESONANCE,100,6);IF(SpellPowerLevelEqualTo(7)):ApplyStatus(SELF,MYSTIC_PSIONIC_RESONANCE,100,7)"

new entry "Passive_Mystic_PsionicResonance_Technical"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnStatusApplied"
data "StatsFunctors" "IF(HasMaximumPsionicResonanceCharge(context.Target)):SetStatusDuration(MYSTIC_PSIONIC_RESONANCE, 7, ForceSet)"

// Flawless Technique
new entry "Passive_Mystic_FlawlessTechnique"
type "PassiveData"
data "DisplayName" "ha097ae4dg8103g4a65gbc89g86139e5a641d"
data "Description" "h12aaeb85g6598g4b95gae04g79fd729f2ec0"
data "Icon" "Passive_Mystic_FlawlessTechnique"
data "Properties" "Highlighted;OncePerTurn"
data "StatsFunctorContext" "OnCast"
data "Conditions" "PsionicDisciplineCheck()"
data "StatsFunctors" "ApplyStatus(SELF,MYSTIC_FLAWLESS_TECHNIQUE,100,1)"

// Unyielding Mind
new entry "Passive_Mystic_UnyieldingMind"
type "PassiveData"
data "DisplayName" "h384150c4g64eag43c8g8749gd61fece1d288"
data "Description" "ha2f8254cgccfdg4021gba86gcf6381ae9837"
data "DescriptionParams" "7"
data "Icon" "Passive_Mystic_UnyieldingMind"
data "Properties" "Highlighted;OncePerCombat"
data "StatsFunctorContext" "OnTurn"
data "Conditions" "Combat()"
data "StatsFunctors" "RestoreResource(PsiPointsResource,7,0);"

// Order of the Blade

// Mystic Arsenal
new entry "Passive_Mystic_MysticArsenal"
type "PassiveData"
data "DisplayName" "ha566a8ccgd8a9g4605ga5cfg2aad1c10dec9"
data "Description" "hc25e7e73gf237g4092ga212g2f98d2f2caf7"
data "Icon" "Action_Mystic_MysticArsenal"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Shout_Mystic_MysticArsenal)"

// Martial Training
new entry "Passive_Mystic_MartialTraining2"
type "PassiveData"
data "DisplayName" "h281f3304ge417g4149gae2cga120ea5f64d5"
data "Description" "he2478245g7e29g4b9bga1c2gfab43839df34"
data "Icon" "PassiveFeature_Elf_WeaponTraining"
data "Properties" "Highlighted"

// War Adept
new entry "Passive_Mystic_WarAdept"
type "PassiveData"
data "DisplayName" "h0455c234g0bf4g49bbgaaecge6617c6114bf"
data "Description" "ha43c8a1eg002fg4ddcg8446gdfffa33dc10e"
data "Icon" "Passive_Mystic_WarAdept"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnEquip;OnCreate;OnLongRest;OnShortRest"
data "StatsFunctors" "ApplyStatus(SELF,MYSTIC_WAR_ADEPT_TECHNICAL,100,-1)"

new entry "Passive_Mystic_WarAdept_UnlockSmiteInterrupt"
type "PassiveData"
data "DisplayName" "hd45504cdgb974g4498g8192ga19c8bd7697d"
data "Properties" "IsHidden"
data "BoostConditions" "HasPassive('Passive_Mystic_WarAdept', context.Source)"
data "BoostContext" "OnEquip;OnCreate;OnAttack;OnTurn;"
data "Boosts" "UnlockInterrupt(Interrupt_Mystic_PsychicSmite);UnlockInterrupt(Interrupt_Mystic_PsychicSmite_2);UnlockInterrupt(Interrupt_Mystic_PsychicSmite_3);UnlockInterrupt(Interrupt_Mystic_PsychicSmite_4);UnlockInterrupt(Interrupt_Mystic_PsychicSmite_5);UnlockInterrupt(Interrupt_Mystic_PsychicSmite_6);UnlockInterrupt(Interrupt_Mystic_PsychicSmite_7)"

// Psionic Trance
new entry "Passive_Mystic_PsionicTrance"
type "PassiveData"
data "DisplayName" "h7ada79e3g226ag4c2bg9521g3ac7cf6cf50b"
data "Description" "hf3bb52b7g8b82g494cga6b4g997052e91d25"
data "DescriptionParams" ""
data "Icon" "Action_Mystic_PsionicTrance"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Shout_Mystic_PsionicTrance);"

// Order of the Unbound

// Wild Psionics
new entry "Passive_Mystic_WildPsionics"
type "PassiveData"
data "DisplayName" "h7207fc46gfd06g4518g901agfdf73249419a"
data "Description" "hd2f7b573ge538g41afgb0b0gf27bb5856991"
data "DescriptionParams" ""
data "Icon" "Passive_Mystic_WildPsionics"
data "Properties" "Highlighted"
data "Boosts" ""
data "StatsFunctorContext" "OnCast"
data "Conditions" "not IsCantrip() and HasSpellFlag(SpellFlags.Spell) and PsionicDisciplineCheck()"
// data "StatsFunctors" "IF(not (HasStatus('WILD_MAGIC_GUARANTEED',context.Source) or Tagged('SORCERER_WILD_MAGIC_SUPRESSED', context.Source))):TriggerRandomCast(20,,WildMagic,WildMagicTurn)"
data "StatsFunctors" "IF(HasStatus('MYSTIC_CHAOTIC_STATE_STABLE',context.Source)):TriggerRandomCast(19,,WildPsionics,WildPsionicsTurn);IF(HasStatus('MYSTIC_CHAOTIC_STATE_ACTIVE',context.Source)):TriggerRandomCast(13,,WildPsionics,WildPsionicsTurn);IF(HasStatus('MYSTIC_CHAOTIC_STATE_VOLATILE',context.Source)):TriggerRandomCast(7,,WildPsionics,WildPsionicsTurn);IF(HasStatus('MYSTIC_CHAOTIC_STATE_DANGEROUS',context.Source)):TriggerRandomCast(1,,WildPsionics,WildPsionicsTurn)"

// IF(HasStatus('MYSTIC_CHAOTIC_STATE_STABLE',context.Source)):TriggerRandomCast(19,,WildPsionics,WildPsionicsTurn);
// IF(HasStatus('MYSTIC_CHAOTIC_STATE_ACTIVE',context.Source)):TriggerRandomCast(13,,WildPsionics,WildPsionicsTurn);
// IF(HasStatus('MYSTIC_CHAOTIC_STATE_VOLATILE',context.Source)):TriggerRandomCast(7,,WildPsionics,WildPsionicsTurn);
// IF(HasStatus('MYSTIC_CHAOTIC_STATE_DANGEROUS',context.Source)):TriggerRandomCast(1,,WildPsionics,WildPsionicsTurn);


// 1  =   5% || 100%  <- Dangerous
// 2  =  10% || 95%
// 3  =  15% || 90%
// 4  =  20% || 85%
// 5  =  25% || 80%
// 6  =  30% || 75%
// 7  =  35% || 70%   <- Volatile
// 8  =  40% || 65%
// 9  =  45% || 60%
// 10 =  50% || 55%
// 11 =  55% || 50%
// 12 =  60% || 45%
// 13 =  65% || 40%   <- Active
// 14 =  70% || 35%
// 15 =  75% || 30%
// 16 =  80% || 25%
// 17 =  85% || 20%
// 18 =  90% || 15%
// 19 =  95% || 10%   <- Stable
// 20 = 100% || 5%
// OFF                <- Inert

new entry "Passive_Mystic_WildPsionics_TurnPsionics"
type "PassiveData"
data "DisplayName" "h48b57fd2gd81fg46c2ga3ceg57a3199b6099"
data "Icon" "statIcons_WildMagic_TurnMagic"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnTurn"
data "StatsFunctors" "TriggerRandomCast(1,,WildPsionics)"


new entry "Passive_Mystic_ChaoticState_Stable"
type "PassiveData"
data "DisplayName" "hcea144ecgcd45g419cgb7fdg710d706420e4"
data "Icon" "Action_Mystic_ChaoticState_Stable"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCreate;OnLongRest"
data "StatsFunctors" "ApplyStatus(SELF,MYSTIC_CHAOTIC_STATE_STABLE,100,-1)"
// data "StatsFunctors" "ApplyStatus(SELF,MYSTIC_CHAOTIC_STATE_ACTIVE,100,-1)"

// Psionic Battery
new entry "Passive_Mystic_PsionicBattery"
type "PassiveData"
data "DisplayName" "h7aaf31c5gbf9dg45f0g8a13g22729da327cc"
data "Description" "hb4fb5683gccd0g464cgb909g5f3c54fb13d3"
data "DescriptionParams" "1"
data "Icon" "Passive_Mystic_PsionicBattery"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast"
data "Conditions" "WildPsionicSurgeCheck()"
data "StatsFunctors" "RestoreResource(SELF,PsiPointsResource,1,0)"

// Chaos Control
new entry "Passive_Mystic_ChaosControl"
type "PassiveData"
data "DisplayName" "hbb442710ge26dg42e8g82ceg8e321c4abaa3"
data "Description" "hc72cd748g1090g4f72g922bgcdc3deedc271"
data "Icon" "Action_Mystic_ChaosControl"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Shout_Mystic_ChaosControl)"

// Chaos Aspect
new entry "Passive_Mystic_ChaosAspect"
type "PassiveData"
data "DisplayName" "h642fc5efgfebcg4b78g8540g61cccc39aaf5"
data "Description" "hb4e3f90cg7940g46cfgb20cg663f8b16e180"
data "DescriptionParams" "Distance(9)"
data "Icon" "Passive_Mystic_ChaosAspect"
data "Properties" "IsToggled;Highlighted;ToggledDefaultAddToHotbar;Temporary"
data "ToggleOnFunctors" "IF(HasStatus('MYSTIC_CHAOTIC_STATE_INERT',context.Source)):ApplyStatus(SELF,MYSTIC_CHAOS_ASPECT_INERT_AURA,100,-1);IF(HasStatus('MYSTIC_CHAOTIC_STATE_STABLE',context.Source)):ApplyStatus(SELF,MYSTIC_CHAOS_ASPECT_STABLE_AURA,100,-1);IF(HasStatus('MYSTIC_CHAOTIC_STATE_ACTIVE',context.Source)):ApplyStatus(SELF,MYSTIC_CHAOS_ASPECT_ACTIVE_AURA,100,-1);IF(HasStatus('MYSTIC_CHAOTIC_STATE_VOLATILE',context.Source)):ApplyStatus(SELF,MYSTIC_CHAOS_ASPECT_VOLATILE_AURA,100,-1);IF(HasStatus('MYSTIC_CHAOTIC_STATE_DANGEROUS',context.Source)):ApplyStatus(SELF,MYSTIC_CHAOS_ASPECT_DANGEROUS_AURA,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(SELF,MYSTIC_CHAOS_ASPECT_INERT_AURA);RemoveStatus(SELF,MYSTIC_CHAOS_ASPECT_STABLE_AURA);RemoveStatus(SELF,MYSTIC_CHAOS_ASPECT_ACTIVE_AURA);RemoveStatus(SELF,MYSTIC_CHAOS_ASPECT_VOLATILE_AURA);RemoveStatus(SELF,MYSTIC_CHAOS_ASPECT_DANGEROUS_AURA)"

new entry "Passive_Mystic_ChaosAspect_Inert"
type "PassiveData"
data "DisplayName" "h642fc5efgfebcg4b78g8540g61cccc39aaf5"
data "Icon" "Passive_Mystic_ChaosAspect"

new entry "Passive_Mystic_ChaosAspect_Stable"
type "PassiveData"
data "DisplayName" "h642fc5efgfebcg4b78g8540g61cccc39aaf5"
data "Icon" "Passive_Mystic_ChaosAspect"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasUseCosts('ActionPoint') or HasUseCosts('BonusActionPoint')"
data "StatsFunctors" "TriggerRandomCast(19,,WildPsionics,WildPsionicsTurn)" 

new entry "Passive_Mystic_ChaosAspect_Active"
type "PassiveData"
data "DisplayName" "h642fc5efgfebcg4b78g8540g61cccc39aaf5"
data "Icon" "Passive_Mystic_ChaosAspect"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasUseCosts('ActionPoint') or HasUseCosts('BonusActionPoint')"
data "StatsFunctors" "TriggerRandomCast(13,,WildPsionics,WildPsionicsTurn)" 

new entry "Passive_Mystic_ChaosAspect_Volatile"
type "PassiveData"
data "DisplayName" "h642fc5efgfebcg4b78g8540g61cccc39aaf5"
data "Icon" "Passive_Mystic_ChaosAspect"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasUseCosts('ActionPoint') or HasUseCosts('BonusActionPoint')"
data "StatsFunctors" "TriggerRandomCast(7,,WildPsionics,WildPsionicsTurn)" 

new entry "Passive_Mystic_ChaosAspect_Dangerous"
type "PassiveData"
data "DisplayName" "h642fc5efgfebcg4b78g8540g61cccc39aaf5"
data "Icon" "Passive_Mystic_ChaosAspect"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnCast"
data "Conditions" "HasUseCosts('ActionPoint') or HasUseCosts('BonusActionPoint')"
data "StatsFunctors" "TriggerRandomCast(1,,WildPsionics,WildPsionicsTurn)" 

// Improved Psionic Battery
new entry "Passive_Mystic_PsionicBattery_2"
type "PassiveData"
data "DisplayName" "hbcb743bfgadb6g4e11gb374g2d6ed0c6ab12"
data "Description" "h81560408gc550g4a4dg8d62g6ea71e7d2283"
data "DescriptionParams" "2"
data "Icon" "Passive_Mystic_PsionicBattery"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast"
data "Conditions" "WildPsionicSurgeCheck()"
data "StatsFunctors" "RestoreResource(SELF,PsiPointsResource,1,0)"

// Surge Mastery
new entry "Passive_Mystic_SurgeMastery"
type "PassiveData"
data "DisplayName" "h16f00cc9g955fg4e2egb630g1b4c16e78990"
data "Description" "h39661ee6g298eg4b51g8bf9gbc81d7988839"
data "Icon" "Passive_Mystic_SurgeMastery"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast"
data "Conditions" "WildPsionicSurgeCheck()"
// DC 17 check
data "StatsFunctors" "IF(SuccessRate(20)):RestoreResource(SELF,PsionicMasteryResource,1,0)"

new entry "Passive_Mystic_WildPsionics_PlanarAnomaly"
type "PassiveData"
data "DisplayName" "h83bd33bcge26dg4cf7gbcdegc24056b94114"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "(HasSpellFlag(SpellFlags.Spell) or SpellActivations()) and not WildMagicSpell() and Character() and not Grounded()"
data "StatsFunctors" "SwapPlaces(VFX_Spells_Cast_Sorcerer_WildMagic_Swap_PositionEffect_01:VFX_Spells_Cast_Sorcerer_WildMagic_Swap_PositionEffect_01)"