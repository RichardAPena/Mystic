// Punishing Fury
new entry "Interrupt_Mystic_PunishingFury"
type "InterruptData"
data "DisplayName" "h9e949f54g1892g4f19g86d8gd20bdf2fd643"
data "Description" "h02f249deg73f6g4362g8633g71803017fe51"
data "Icon" "Action_GoadingAttack_Melee"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "not Self(context.Source,context.Observer) and Ally(context.Target, context.Observer) and Enemy(context.Source, context.Observer) and IsAbleToReact(context.Observer) and IsMeleeAttack() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and not AnyEntityIsItem() and HasLastAttackTriggered() and HasStatus('MYSTIC_PUNISHING_FURY', context.Source)"
data "Properties" "UseAttack(OBSERVER_SOURCE)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

// Aura of Victory (Rallying Cry/Triumph)
new entry "Interrupt_Mystic_AuraOfVictory"
type "InterruptData"
data "DisplayName" "h217c8d85gd7ebg4ddcg901agd58751efd008"
data "Description" "he9fd8855g276ag4df7gaa45gaef25f12f283"
data "Icon" "Action_Mystic_AuraOfVictory"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "HasHPLessThan(1) and Enemy() and Character()"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_Triumph,true,true,true)"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Mystic_AuraOfVictory_2"
type "InterruptData"
using "Interrupt_Mystic_AuraOfVictory"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_Triumph_2,true,true,true)"

new entry "Interrupt_Mystic_AuraOfVictory_3"
type "InterruptData"
using "Interrupt_Mystic_AuraOfVictory"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_Triumph_3,true,true,true)"

new entry "Interrupt_Mystic_AuraOfVictory_4"
type "InterruptData"
using "Interrupt_Mystic_AuraOfVictory"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_Triumph_4,true,true,true)"

new entry "Interrupt_Mystic_AuraOfVictory_5"
type "InterruptData"
using "Interrupt_Mystic_AuraOfVictory"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_Triumph_5,true,true,true)"

new entry "Interrupt_Mystic_AuraOfVictory_6"
type "InterruptData"
using "Interrupt_Mystic_AuraOfVictory"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_Triumph_6,true,true,true)"

new entry "Interrupt_Mystic_AuraOfVictory_7"
type "InterruptData"
using "Interrupt_Mystic_AuraOfVictory"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_Triumph_7,true,true,true)"

// Adaptive Shield
new entry "Interrupt_Mystic_AdaptiveShield"
type "InterruptData"
data "DisplayName" "ha4113923g6596g4aa4ga10fg5d07f8d8abe7"
data "Description" "h6953cb97gffa3g4419gb10bg7aba9f9e8923"
data "Icon" "Action_Mystic_AdaptiveShield"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and (SpellDamageTypeIs(DamageType.Acid) or SpellDamageTypeIs(DamageType.Cold) or SpellDamageTypeIs(DamageType.Fire) or SpellDamageTypeIs(DamageType.Lightning) or SpellDamageTypeIs(DamageType.Thunder)) and not AnyEntityIsItem()"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);IF(SpellDamageTypeIs(DamageType.Acid)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ADAPTIVE_SHIELD_ACID,100,1);IF(SpellDamageTypeIs(DamageType.Cold)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ADAPTIVE_SHIELD_COLD,100,1);IF(SpellDamageTypeIs(DamageType.Fire)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ADAPTIVE_SHIELD_FIRE,100,1);IF(SpellDamageTypeIs(DamageType.Lightning)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ADAPTIVE_SHIELD_LIGHTNING,100,1);IF(SpellDamageTypeIs(DamageType.Thunder)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ADAPTIVE_SHIELD_THUNDER,100,1);"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"
data "EnableCondition" "not HasStatus('SG_Polymorph')"
data "EnableContext" "OnActionResourcesChanged"
data "Container" "YesNoDecision"
data "InterruptDefaultValue" "Ask;Enabled"

// Psychic Backlash
new entry "Interrupt_Mystic_PsychicBacklash"
type "InterruptData"
data "DisplayName" "h6a32a2fdg7d8fg499cga80eg348f92289a86"
data "Description" "h34e0c50eg2f15g412ag8f79ge7d9fc0ff80a"
data "DescriptionParams" "DealDamage(2d10,Psychic)"
data "Icon" "Action_Mystic_PsychicBacklash"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "HasInterruptedAttack() and IsRerollInterruptInteresting(context.Source) and IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and not AnyEntityIsItem()"
data "Properties" "SetReroll(19,false);ApplyStatus(OBSERVER_OBSERVER,MYSTIC_PSYCHIC_BACKLASH,100,1)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:2"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Psychic Parry
new entry "Interrupt_Mystic_PsychicParry"
type "InterruptData"
data "DisplayName" "he3859f73g3be7g43ddga88bg142c54b26bd8"
data "Description" "he3446c7fga2b2g4256g93efga0485b80e08e"
data "Icon" "Action_Mystic_PsychicParry"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(1, context.Source) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Wisdom) or HasSavingThrowWithAbility(Ability.Charisma)))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(1)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

new entry "Interrupt_Mystic_PsychicParry_2"
type "InterruptData"
using "Interrupt_Mystic_PsychicParry"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(2, context.Source) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Wisdom) or HasSavingThrowWithAbility(Ability.Charisma)))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(2)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:2"

new entry "Interrupt_Mystic_PsychicParry_3"
type "InterruptData"
using "Interrupt_Mystic_PsychicParry"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(3, context.Source) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Wisdom) or HasSavingThrowWithAbility(Ability.Charisma)))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(3)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"

new entry "Interrupt_Mystic_PsychicParry_4"
type "InterruptData"
using "Interrupt_Mystic_PsychicParry"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(4, context.Source) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Wisdom) or HasSavingThrowWithAbility(Ability.Charisma)))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(4)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:4;PsiLimitResource:1:4"

new entry "Interrupt_Mystic_PsychicParry_5"
type "InterruptData"
using "Interrupt_Mystic_PsychicParry"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(5, context.Source) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Wisdom) or HasSavingThrowWithAbility(Ability.Charisma)))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(5)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:5;PsiLimitResource:1:5"

new entry "Interrupt_Mystic_PsychicParry_6"
type "InterruptData"
using "Interrupt_Mystic_PsychicParry"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(6, context.Source) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Wisdom) or HasSavingThrowWithAbility(Ability.Charisma)))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(6)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:6;PsiLimitResource:1:6"

new entry "Interrupt_Mystic_PsychicParry_7"
type "InterruptData"
using "Interrupt_Mystic_PsychicParry"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(7, context.Source) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Wisdom) or HasSavingThrowWithAbility(Ability.Charisma)))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(7)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:7;PsiLimitResource:1:7"

// All-Around Sight
new entry "Interrupt_Mystic_AllAroundSight"
type "InterruptData"
data "DisplayName" "hbced9298g8494g4307g9f98g3c8d470714d6"
data "Description" "hdbb509b6g53fag42c4g84fdgf5a4eebc7955"
data "Icon" "Action_Mystic_AllAroundSight"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source)"
data "Properties" "SetReroll(20,true)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Knock Back
new entry "Interrupt_Mystic_KnockBack"
type "InterruptData"
data "DisplayName" "h64861ffdge092g4be5gae41g02d96367cb93"
data "Description" "hafa0ff17g5d7fg4454gb0c4g5eee7b446f19"
data "DescriptionParams" "Distance(3);DealDamage(1d4,Bludgeoning)"
data "Icon" "Action_Mystic_KnockBack"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and not IsKillingBlow() and not AnyEntityIsItem()"
data "Properties" "ApplyStatus(OBSERVER_TARGET,MYSTIC_KNOCK_BACK,100,0)"
data "Cost" "PsiPointsResource:1"
data "Stack" "Mystic_KnockBack"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"
data "TooltipAttackSave" "Strength"

new entry "Interrupt_Mystic_KnockBack_2"
type "InterruptData"
using "Interrupt_Mystic_KnockBack"
data "DescriptionParams" "Distance(6);DealDamage(2d4,Bludgeoning)"
data "Properties" "ApplyStatus(OBSERVER_TARGET,MYSTIC_KNOCK_BACK_2,100,0)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:2"

new entry "Interrupt_Mystic_KnockBack_3"
type "InterruptData"
using "Interrupt_Mystic_KnockBack"
data "DescriptionParams" "Distance(9);DealDamage(3d4,Bludgeoning)"
data "Properties" "ApplyStatus(OBSERVER_TARGET,MYSTIC_KNOCK_BACK_3,100,0)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:3;PsiLimitResource:1:3"

new entry "Interrupt_Mystic_KnockBack_4"
type "InterruptData"
using "Interrupt_Mystic_KnockBack"
data "DescriptionParams" "Distance(12);DealDamage(4d4,Bludgeoning)"
data "Properties" "ApplyStatus(OBSERVER_TARGET,MYSTIC_KNOCK_BACK_4,100,0)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:4;PsiLimitResource:1:4"

new entry "Interrupt_Mystic_KnockBack_5"
type "InterruptData"
using "Interrupt_Mystic_KnockBack"
data "DescriptionParams" "Distance(15);DealDamage(5d4,Bludgeoning)"
data "Properties" "ApplyStatus(OBSERVER_TARGET,MYSTIC_KNOCK_BACK_5,100,0)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:5;PsiLimitResource:1:5"

new entry "Interrupt_Mystic_KnockBack_6"
type "InterruptData"
using "Interrupt_Mystic_KnockBack"
data "DescriptionParams" "Distance(18);DealDamage(6d4,Bludgeoning)"
data "Properties" "ApplyStatus(OBSERVER_TARGET,MYSTIC_KNOCK_BACK_6,100,0)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:6;PsiLimitResource:1:6"

new entry "Interrupt_Mystic_KnockBack_7"
type "InterruptData"
using "Interrupt_Mystic_KnockBack"
data "DescriptionParams" "Distance(21);DealDamage(7d4,Bludgeoning)"
data "Properties" "ApplyStatus(OBSERVER_TARGET,MYSTIC_KNOCK_BACK_7,100,0)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:7;PsiLimitResource:1:7"

// Acid Spray
new entry "Interrupt_Mystic_AcidSpray"
type "InterruptData"
data "DisplayName" "hc7b88abbg0bf9g468aga89fgc539b6688cac"
data "Description" "h0d03313eg42eeg4e62g99a8gd78ebb954dfe"
data "DescriptionParams" "DealDamage(2d6,Acid);Distance(3)"
data "Icon" "Action_Mystic_AcidSpray"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and not AnyEntityIsItem()"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shout_Mystic_AcidSpray_Interrupt,true,true,true)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:2"
data "EnableCondition" "not HasStatus('SG_Polymorph')"
data "EnableContext" "OnActionResourcesChanged"
data "Container" "YesNoDecision"
data "InterruptDefaultValue" "Ask;Enabled"

// Sudden Shift
new entry "Interrupt_Mystic_SuddenShift"
type "InterruptData"
data "DisplayName" "h3a999e58g5ceeg4ac1ga20aga6efd47b87f3"
data "Description" "h9de05705gcb47g47dcga990g7ede44af0407"
data "Icon" "Action_Mystic_SuddenShift"
data "InterruptContext" "OnPostRoll;OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and not AnyEntityIsItem()"
data "Properties" "SetRoll(0);ApplyStatus(OBSERVER_OBSERVER,DISENGAGE,100,1);AdjustRoll(-99)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:5;PsiLimitResource:1:5"
data "InterruptDefaultValue" "Ask;Enabled"

// Iron Hide
new entry "Interrupt_Mystic_IronHide"
type "InterruptData"
data "DisplayName" "h3a5789efg2457g4ca8ga0f8gce3100d94894"
data "Description" "hc17c8044g089bg4c41g825dg242f478d8782"
data "Icon" "Action_Mystic_IronHide"
data "InterruptContext" "OnPostRoll;OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedAttack() and IsFlatValueInterruptInteresting(3, context.Source))) and not AnyEntityIsItem() and not HasStatus('MYSTIC_IRON_HIDE',context.Observer)"
data "Properties" "IF(HasInterruptedAttack()):AdjustRoll(-3);ApplyStatus(OBSERVER_OBSERVER,MYSTIC_IRON_HIDE,100,1)"

// Lethal Strike (Interrupt)
new entry "Interrupt_Mystic_LethalStrike"
type "InterruptData"
data "DisplayName" "h0fca0ef3g244eg4ca2gaec6g791d6a5f0b5c"
data "Description" "ha1ee4050g7ccdg4f77g9c8cg17acfd982854"
data "DescriptionParams" "DealDamage(1d6,Psychic)"
data "Icon" "Action_Mystic_DevastatingStrike"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Item() and IsWeaponAttack() and not IsPsychicSmite() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and not IsKillingBlow() and not AnyEntityIsItem()"
data "Properties" "DealDamage(1d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:1"
data "Stack" "Mystic_LethalStrike"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Mystic_LethalStrike_2"
type "InterruptData"
using "Interrupt_Mystic_LethalStrike"
data "DescriptionParams" "DealDamage(2d6,Psychic)"
data "Properties" "DealDamage(2d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:2"

new entry "Interrupt_Mystic_LethalStrike_3"
type "InterruptData"
using "Interrupt_Mystic_LethalStrike"
data "DescriptionParams" "DealDamage(3d6,Psychic)"
data "Properties" "DealDamage(3d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:3;PsiLimitResource:1:3"

new entry "Interrupt_Mystic_LethalStrike_4"
type "InterruptData"
using "Interrupt_Mystic_LethalStrike"
data "DescriptionParams" "DealDamage(4d6,Psychic)"
data "Properties" "DealDamage(4d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:4;PsiLimitResource:1:4"

new entry "Interrupt_Mystic_LethalStrike_5"
type "InterruptData"
using "Interrupt_Mystic_LethalStrike"
data "DescriptionParams" "DealDamage(5d6,Psychic)"
data "Properties" "DealDamage(5d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:5;PsiLimitResource:1:5"

new entry "Interrupt_Mystic_LethalStrike_6"
type "InterruptData"
using "Interrupt_Mystic_LethalStrike"
data "DescriptionParams" "DealDamage(6d6,Psychic)"
data "Properties" "DealDamage(6d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:6;PsiLimitResource:1:6"

new entry "Interrupt_Mystic_LethalStrike_7"
type "InterruptData"
using "Interrupt_Mystic_LethalStrike"
data "DescriptionParams" "DealDamage(7d6,Psychic)"
data "Properties" "DealDamage(7d6,Psychic,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "PsiPointsResource:7;PsiLimitResource:1:7"

// Seeking Missile
new entry "Interrupt_Mystic_SeekingMissile"
type "InterruptData"
data "DisplayName" "h170aeca8g0096g4689g9450g240c79bbc380"
data "Description" "hfc6b13fdgc440g4072ga6d9g1eb08558a47b"
data "Icon" "Action_Mystic_SeekingMissile"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and (HasInterruptedAttack() and Self(context.Observer,context.Source) and IsRerollInterruptInteresting(context.Source)) and IsWeaponAttack() and IsRangedAttack() and not AnyEntityIsItem()"
data "Properties" "SetReroll(19,false)"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:2"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Defensive Step
new entry "Interrupt_Mystic_DefensiveStep"
type "InterruptData"
data "DisplayName" "h5bebca69g2c85g4ba9gb640g656b4ec66241"
data "Description" "h3a3f0db7g14a3g4655ga986g1635f41bc6fa"
data "Icon" "Action_Mystic_DefensiveStep"
data "InterruptContext" "OnPostRoll;OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedAttack() and IsFlatValueInterruptInteresting(3, context.Source))) and not AnyEntityIsItem()"
data "Properties" "IF(HasInterruptedAttack()):AdjustRoll(-4);ApplyStatus(OBSERVER_OBSERVER,DISENGAGE,100,1);"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:2"
data "InterruptDefaultValue" "Ask;Enabled"

// Psionic Strike
new entry "Interrupt_Mystic_PsionicStrike"
type "InterruptData"
data "DisplayName" "h2ae84d46g9f37g45a5g988bg8b08fff62394"
data "Description" "hf729263eg37dcg43fbg923cg24cc642f6773"
data "DescriptionParams" "DealDamage(1d8,Psychic)"
data "Icon" "Passive_Mystic_PsionicStrike"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or IsUnarmedAttack()) and not IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"
data "Properties" "DealDamage(1d8,Psychic)"
data "Cost" "Interrupt_PsionicStrike:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('Interrupt_PsionicStrike', 1, 0, false, false, context.Source) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER'))"
data "EnableContext" "OnActionResourcesChanged"

new entry "Interrupt_Mystic_PsionicStrike_Critical"
type "InterruptData"
using "Interrupt_Mystic_PsionicStrike"
data "DisplayName" "hd3ca609cg1645g4f9fgaed4g5b36b263fa89"
data "Conditions" "Self(context.Source,context.Observer) and (IsWeaponAttack() or IsUnarmedAttack()) and IsCritical() and not IsKillingBlow() and IsHit() and not IsDivineStrike() and Character() and not AnyEntityIsItem()"

new entry "Interrupt_Mystic_PsionicStrike2"
type "InterruptData"
using "Interrupt_Mystic_PsionicStrike"
data "DescriptionParams" "DealDamage(2d8,Psychic)"
data "Properties" "DealDamage(2d8,Psychic)"

new entry "Interrupt_Mystic_PsionicStrike2_Critical"
type "InterruptData"
using "Interrupt_Mystic_PsionicStrike_Critical"
data "DescriptionParams" "DealDamage(2d8,Psychic)"
data "Properties" "DealDamage(2d8,Psychic)"

// Psionic Surge
new entry "Interrupt_Mystic_PsionicSurge"
type "InterruptData"
data "DisplayName" "he2f4f7f4g276dg4d9bga0d9g8351051384b8"
data "Description" "hc8df6a32g2235g427cga697g74f6fa505179"
data "Icon" "Passive_Mystic_PsionicSurge"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and (Self(context.Observer,context.Source) and HasInterruptedSavingThrow() and IsRerollInterruptInteresting()) and not AnyEntityIsItem()"
data "Properties" "SetReroll(19,true)"
data "Cost" "ReactionActionPoint:1;Interrupt_PsionicSurge:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Surge of Health
new entry "Interrupt_Mystic_SurgeOfHealth"
type "InterruptData"
data "DisplayName" "h56cb35d0g56f3g4098g8d58gbdab90b41a46"
data "Description" "h29c97f6dg93efg4497g9f86gdcf3a6ecaa0e"
data "Icon" "Passive_Mystic_SurgeOfHealth"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer)"
data "Properties" "SetDamageResistance(Bludgeoning);SetDamageResistance(Piercing);SetDamageResistance(Slashing);SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Force);SetDamageResistance(Lightning);SetDamageResistance(Necrotic);SetDamageResistance(Poison);SetDamageResistance(Psychic);SetDamageResistance(Radiant);SetDamageResistance(Thunder);"
data "Cost" "ReactionActionPoint:1;Interrupt_SurgeOfHealth:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

// Memory of One Thousand Steps
new entry "Interrupt_Mystic_MemoryOfOneThousandSteps"
type "InterruptData"
data "DisplayName" "h6572d753g277fg4e06ga35bgb9df9f0d9c69"
data "Description" "h49108727g9317g4c3fgb887g5d2e09c8c720"
data "DescriptionParams" "Distance(9)"
data "Icon" "Passive_Mystic_MemoryOfOneThousandSteps"
data "InterruptContext" "OnPostRoll;OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and not AnyEntityIsItem()"
data "Properties" "SetRoll(0);ApplyStatus(OBSERVER_OBSERVER,MYSTIC_MEMORY_OF_ONE_THOUSAND_STEPS,100,1);AdjustRoll(-99)"
data "Cost" "ReactionActionPoint:1;Interrupt_MemoryOfOneThousandSteps:1"
data "InterruptDefaultValue" "Ask;Enabled"

// Elemental Mastery
new entry "Interrupt_Mystic_ElementalMastery"
type "InterruptData"
data "DisplayName" "h4c335a3dg418fg4969g8805gdd998c49b6b3"
data "Description" "hacfe3897gb287g43e9ga64bga732447e955f"
data "Icon" "Passive_Mystic_ElementalMastery"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((IsResistantToDamageType(DamageType.Bludgeoning,context.Target) and SpellDamageTypeIs(DamageType.Bludgeoning)) or (IsResistantToDamageType(DamageType.Piercing,context.Target) and SpellDamageTypeIs(DamageType.Piercing)) or (IsResistantToDamageType(DamageType.Slashing,context.Target) and SpellDamageTypeIs(DamageType.Slashing)) or (IsResistantToDamageType(DamageType.Acid,context.Target) and SpellDamageTypeIs(DamageType.Acid)) or (IsResistantToDamageType(DamageType.Cold,context.Target) and SpellDamageTypeIs(DamageType.Cold)) or (IsResistantToDamageType(DamageType.Fire,context.Target) and SpellDamageTypeIs(DamageType.Fire)) or (IsResistantToDamageType(DamageType.Force,context.Target) and SpellDamageTypeIs(DamageType.Force)) or (IsResistantToDamageType(DamageType.Lightning,context.Target) and SpellDamageTypeIs(DamageType.Lightning)) or (IsResistantToDamageType(DamageType.Necrotic,context.Target) and SpellDamageTypeIs(DamageType.Necrotic)) or (IsResistantToDamageType(DamageType.Poison,context.Target) and SpellDamageTypeIs(DamageType.Poison)) or (IsResistantToDamageType(DamageType.Psychic,context.Target) and SpellDamageTypeIs(DamageType.Psychic)) or (IsResistantToDamageType(DamageType.Radiant,context.Target) and SpellDamageTypeIs(DamageType.Radiant)) or (IsResistantToDamageType(DamageType.Thunder,context.Target) and SpellDamageTypeIs(DamageType.Thunder))) and not AnyEntityIsItem()"
data "Properties" "IF(SpellDamageTypeIs(DamageType.Bludgeoning)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_BLUDGEONING,100,1);IF(SpellDamageTypeIs(DamageType.Piercing)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_PIERCING,100,1);IF(SpellDamageTypeIs(DamageType.Slashing)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_SLASHING,100,1);IF(SpellDamageTypeIs(DamageType.Acid)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_ACID,100,1);IF(SpellDamageTypeIs(DamageType.Cold)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_COLD,100,1);IF(SpellDamageTypeIs(DamageType.Fire)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_FIRE,100,1);IF(SpellDamageTypeIs(DamageType.Force)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_FORCE,100,1);IF(SpellDamageTypeIs(DamageType.Lightning)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_LIGHTNING,100,1);IF(SpellDamageTypeIs(DamageType.Necrotic)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_NECROTIC,100,1);IF(SpellDamageTypeIs(DamageType.Poison)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_POISON,100,1);IF(SpellDamageTypeIs(DamageType.Psychic)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_PSYCHIC,100,1);IF(SpellDamageTypeIs(DamageType.Radiant)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_RADIANT,100,1);IF(SpellDamageTypeIs(DamageType.Thunder)):ApplyStatus(OBSERVER_TARGET, MYSTIC_ELEMENTAL_MASTERY_THUNDER,100,1);"
data "Cost" "ReactionActionPoint:1;PsiPointsResource:2"
data "EnableCondition" "not HasStatus('SG_Polymorph')"
data "EnableContext" "OnActionResourcesChanged"
data "Container" "YesNoDecision"
data "InterruptDefaultValue" "Ask;Enabled"